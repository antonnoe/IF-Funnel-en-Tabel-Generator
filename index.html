<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Infofrankrijk Funnel Manager v15</title>
<style>
    /* --- ADMIN DASHBOARD STYLING --- */
    body { font-family: 'Segoe UI', system-ui, sans-serif; background: #f4f6f8; margin: 0; padding: 20px; color: #333; }
    .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); overflow: hidden; min-height: 80vh; }
    
    header { background: #800000; color: white; padding: 20px 30px; display: flex; justify-content: space-between; align-items: center; }
    h1 { margin: 0; font-size: 1.4em; }
    .version { font-size: 0.8em; opacity: 0.8; }

    /* Tabs */
    .tabs { display: flex; background: #eee; border-bottom: 1px solid #ddd; }
    .tab { padding: 15px 20px; cursor: pointer; font-weight: bold; border: none; background: none; color: #555; outline: none; transition: 0.2s; border-right: 1px solid #ddd;}
    .tab.active { background: white; color: #800000; border-top: 4px solid #800000; }
    .tab:hover:not(.active) { background: #e0e0e0; }
    .tab-content { padding: 30px; display: none; }
    .tab-content.active { display: block; animation: fadeIn 0.3s; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

    /* Forms */
    .panel { background: #f8f9fa; border: 1px solid #e9ecef; padding: 20px; border-radius: 6px; margin-bottom: 20px; }
    .form-row { display: flex; gap: 15px; margin-bottom: 15px; flex-wrap: wrap;}
    .form-group { flex: 1; min-width: 250px; }
    label { display: block; font-weight: bold; margin-bottom: 5px; font-size: 0.85em; color: #666; text-transform: uppercase; }
    input[type="text"], textarea, select { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 1em; }
    textarea { height: 80px; resize: vertical; }

    /* Buttons */
    .btn { padding: 10px 18px; border: none; border-radius: 4px; font-weight: bold; cursor: pointer; transition: 0.2s; font-size: 0.95em; display: inline-flex; align-items: center; justify-content: center; gap: 5px; text-decoration: none; }
    .btn-primary { background: #800000; color: white; }
    .btn-primary:hover { background: #600000; transform: translateY(-1px); }
    .btn-success { background: #27ae60; color: white; width: 100%; font-size: 1.1em; padding: 15px; }
    .btn-success:hover { background: #219150; }
    .btn-danger { background: #fee2e2; color: #c53030; padding: 6px 12px; font-size: 0.85em; }
    .btn-danger:hover { background: #fecaca; }
    .btn-action { background: #e2e8f0; color: #4a5568; padding: 6px 10px; }
    .btn-action:hover { background: #cbd5e0; }
    .btn-keep { background: #f1c40f; color: #333; border: 1px solid #d4ac0d; width: 100%; padding: 15px; margin-bottom: 20px; font-size: 1.1em;}
    .btn-keep:hover { background: #f39c12; }

    /* Toast Notification (Het "Confirm Gevoel") */
    #toast {
        visibility: hidden; min-width: 250px; margin-left: -125px; background-color: #333; color: #fff; text-align: center; border-radius: 4px; padding: 16px; position: fixed; z-index: 1000; left: 50%; bottom: 30px; font-size: 17px; box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }
    #toast.show { visibility: visible; animation: fadein 0.5s, fadeout 0.5s 2.5s; }
    #toast.success { background-color: #27ae60; }
    @keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
    @keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }

    /* Admin Previews */
    .tile-grid-preview { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px; }
    .tile-card { background: white; border: 1px solid #ddd; border-radius: 6px; overflow: hidden; display: flex; flex-direction: column; position: relative; }
    .tile-card:hover { border-color: #800000; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .edit-hint { position: absolute; top: 5px; right: 5px; background: rgba(255,255,255,0.9); padding: 2px 6px; font-size: 0.7em; border-radius: 3px; border: 1px solid #ccc; pointer-events: none; color: #333;}
    .tile-img { height: 140px; background-color: #eee; background-size: cover; background-position: center; border-bottom: 1px solid #eee; }
    .tile-body { padding: 15px; flex: 1; display: flex; flex-direction: column; }
    .tile-title { font-weight: bold; color: #800000; margin-bottom: 5px; font-size: 1em; }
    .tile-text { font-size: 0.9em; color: #555; flex: 1; margin-bottom: 15px; line-height: 1.4; }

    .table-preview { width: 100%; border-collapse: collapse; background: white; font-size: 0.9em; }
    .table-preview th { text-align: left; background: #f1f5f9; padding: 12px; border-bottom: 2px solid #e2e8f0; color: #475569; }
    .table-preview td { padding: 10px 12px; border-bottom: 1px solid #f1f5f9; vertical-align: middle; }
    .table-header-row td { background: #fff1f2; color: #800000; font-weight: bold; text-transform: uppercase; font-size: 0.85em; letter-spacing: 1px; }
    .check-yes { color: #27ae60; font-weight: bold; }
    .check-no { color: #cbd5e0; }

    .backup-container { background: #2d3748; padding: 25px; border-radius: 6px; color: white; }
    .backup-textarea { width: 100%; height: 100px; background: #1a202c; color: #a0aec0; border: 1px solid #4a5568; padding: 10px; font-family: monospace; border-radius: 4px; box-sizing: border-box; margin: 5px 0; }
</style>
</head>
<body>

<div class="container">
    <header>
        <h1>Infofrankrijk Funnel Manager</h1>
        <div class="version">v15 Fixed</div>
    </header>

    <div class="tabs">
        <button class="tab active" onclick="switchTab('backup')">1. START & BACKUP</button>
        <button class="tab" onclick="switchTab('tiles')">2. De Tegels (Vitrine)</button>
        <button class="tab" onclick="switchTab('table')">3. De Tabel (Vergelijking)</button>
        <button class="tab" onclick="switchTab('code')">4. KASSA (Code)</button>
    </div>

    <div id="tab-backup" class="tab-content active">
        <div style="background: #e3f2fd; color: #0d47a1; padding: 15px; border-left: 5px solid #2196f3; margin-bottom: 25px;">
            <strong>Instructie voor beheerders:</strong><br>
            Deze tool slaat niets op het internet op. Jij bent de beheerder.<br>
            1. Open de Google Keep notitie hieronder.<br>
            2. Kopieer de code uit "Huidige Data" naar Keep als je klaar bent.<br>
            3. Begin je net? Plak de code uit Keep in "Data Herstellen" om verder te gaan.
        </div>

        <div class="backup-container">
            <a href="https://keep.google.com/#NOTE/19zNWkbyH7Ou878ICDUN6DQjTCJzadyE7LvUlsKwnqtnnE7Jwt-31gtf7u0CyZskj" target="_blank" class="btn btn-keep">
                üìù 1. KLIK HIER: Open Google Keep Notitie
            </a>

            <div style="display:flex; gap: 20px; flex-wrap: wrap;">
                <div style="flex:1;">
                    <label style="color:#a0aec0;">2. Huidige Data (Kopi√´ren na bewerken):</label>
                    <textarea id="exportArea" class="backup-textarea" readonly onclick="this.select()"></textarea>
                    <button class="btn btn-primary" onclick="copyExport()">Kopieer naar klembord</button>
                </div>
                <div style="flex:1;">
                    <label style="color:#a0aec0;">3. Data Herstellen (Plakken om te starten):</label>
                    <textarea id="importArea" class="backup-textarea" placeholder="Plak hier je JSON code..."></textarea>
                    <button class="btn btn-primary" style="background:#f39c12;" onclick="importData()">Data Inladen</button>
                </div>
            </div>
            
            <div style="margin-top: 30px; text-align:right; border-top: 1px solid #4a5568; padding-top: 15px;">
                <button class="btn btn-danger" onclick="resetToDefault()">Reset naar Fabrieksinstellingen</button>
            </div>
        </div>
    </div>

    <div id="tab-tiles" class="tab-content">
        <div class="panel">
            <h3>Tegel Bewerken / Toevoegen</h3>
            <p style="font-size:0.9em; color:#666; margin-top:-5px;">Klik op een bestaande tegel om hem aan te passen.</p>
            <div class="form-row">
                <div class="form-group">
                    <label>Titel</label>
                    <input type="text" id="tileTitle" placeholder="Bijv. Bruto-Netto Calculator">
                </div>
                <div class="form-group">
                    <label>Afbeelding URL</label>
                    <input type="text" id="tileImg" placeholder="https://infofrankrijk.com/...">
                </div>
            </div>
            <div class="form-group">
                <label>Korte Tekst (Wervend)</label>
                <textarea id="tileText" placeholder="Beschrijf in 1 zin wat de bezoeker aan deze tool heeft..."></textarea>
            </div>
            <button class="btn btn-primary" onclick="addTile()">+ Opslaan / Toevoegen</button>
        </div>
        <div id="tileList" class="tile-grid-preview"></div>
    </div>

    <div id="tab-table" class="tab-content">
        <div class="panel">
            <h3>Regel Toevoegen</h3>
            <div class="form-row">
                <div class="form-group" style="flex: 0 0 150px;">
                    <label>Type</label>
                    <select id="rowType">
                        <option value="item">Dienst / Tool</option>
                        <option value="header">Tussenkop</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Naam / Omschrijving</label>
                    <input type="text" id="rowName" placeholder="Omschrijving van de dienst">
                </div>
                <div class="form-group">
                    <label>Link URL (Optioneel)</label>
                    <input type="text" id="rowLink" placeholder="https://...">
                </div>
            </div>
            <div style="margin-bottom: 15px;">
                <label style="display:inline-block; margin-right: 20px; cursor:pointer;">
                    <input type="checkbox" id="visCheck"> Toegankelijk voor Bezoeker?
                </label>
                <label style="display:inline-block; cursor:pointer;">
                    <input type="checkbox" id="subCheck" checked> Toegankelijk voor Abonnee?
                </label>
            </div>
            <button class="btn btn-primary" onclick="addTableRow()">+ Toevoegen aan Tabel</button>
        </div>
        <table class="table-preview">
            <thead><tr><th>Item</th><th width="50" style="text-align:center">Bez</th><th width="50" style="text-align:center">Abo</th><th width="120" style="text-align:center">Actie</th></tr></thead>
            <tbody id="tableList"></tbody>
        </table>
    </div>

    <div id="tab-code" class="tab-content">
        <div style="text-align:center; max-width: 600px; margin: 0 auto;">
            <h2 style="color:#27ae60; margin-bottom: 10px;">Klaar voor publicatie?</h2>
            <p style="color:#666; margin-bottom: 25px;">Klik op de knop hieronder. De code wordt gegenereerd en gekopieerd.</p>
            <button class="btn btn-success" onclick="generateCode()">GENEREER & KOPIEER CODE</button>
        </div>
        <textarea id="finalCode" style="width:100%; height:400px; margin-top:30px; border:1px solid #ddd; padding:15px; font-family:monospace; color:#555;" readonly onclick="this.select()"></textarea>
    </div>
</div>

<div id="toast">Melding</div>

<script>
/* =================================================================
   1. DATA STORE
   ================================================================= */
const defaultData = {
    tiles: [
        { title: "Hier vind je overheden in de buurt", img: "https://infofrankrijk.com/wp-content/uploads/2024/02/overheden-kaart.png", text: "Voer je postcode in en krijg direct een helder overzicht van de contactgegevens van alle overheden en instellingen." },
        { title: "Plus Value Calculator", img: "https://infofrankrijk.com/wp-content/uploads/2024/02/plus-value.png", text: "Voer de basisgegevens in en je krijgt een gedetailleerde doorrekening van de plus value belasting die je zou betalen bij verkoop." },
        { title: "Bruto-Netto Calculator", img: "https://infofrankrijk.com/wp-content/uploads/2024/02/bruto-netto.png", text: "Bereken je netto inkomen aan de hand van duidelijke parameters en een volledig overzicht van alle inkomstenbronnen." },
        { title: "Beroepenchecker", img: "https://infofrankrijk.com/wp-content/uploads/2024/02/beroepen.png", text: "Een duidelijk overzicht van beroepseisen: wordt jouw Nederlandse diploma in Frankrijk erkend?" }
    ],
    table: [
        {type: "header", name: "Algemeen"},
        {type: "item", name: "Infofrankrijk; de basis (vele artikelen)", vis: true, sub: true},
        {type: "item", name: "Dagelijkse nieuwsbrief (gerenoveerd in 2026!)", link: "https://infofrankrijk.tempurl.host/nieuwsbrief/", vis: true, sub: true},
        {type: "item", name: "Het forum van Nederlanders.fr blijft gratis", vis: true, sub: true},
        {type: "header", name: "DOSSIERS"},
        {type: "item", name: "Ondernemen in Frankrijk", vis: true, sub: true},
        {type: "item", name: "Vastgoedbezit in Frankrijk", vis: true, sub: true},
        {type: "item", name: "85 PDF bestanden uit 'Klussen in Frankrijk'", link: "https://infofrankrijk.tempurl.host/2025/08/26/klussen/", vis: true, sub: true},
        {type: "header", name: "SIMULATIE- EN REKENMODULES"},
        {type: "item", name: "Periodieke nieuwsbrief met updates en nieuwe tools in 2026", vis: false, sub: true},
        {type: "item", name: "Zorgkompas Frankrijk: simulator", link: "https://infofrankrijk.tempurl.host/2025/11/21/zorgkompas/", vis: false, sub: true},
        {type: "item", name: "Database onroerend goed zoeken", vis: false, sub: true},
        {type: "item", name: "Bruto-Netto simulator NL <> FR", link: "https://infofrankrijk.tempurl.host/2025/11/10/financieel/", vis: false, sub: true},
        {type: "item", name: "Simulatiemodule Energieverbruik", link: "https://infofrankrijk.tempurl.host/2025/09/22/energie/", vis: false, sub: true},
        {type: "item", name: "Beroepenchecker", link: "https://infofrankrijk.tempurl.host/2025/11/20/werken/", vis: false, sub: true}
    ]
};

let appData = JSON.parse(JSON.stringify(defaultData));

/* =================================================================
   2. INITIALISATIE & TABBLADEN
   ================================================================= */
function init() {
    // Probeer data uit geheugen te halen
    const saved = localStorage.getItem('if_v15_data');
    if(saved) appData = JSON.parse(saved);
    renderTiles();
    renderTable();
    updateExportArea();
}

function switchTab(id) {
    document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
    document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
    document.getElementById('tab-'+id).classList.add('active');
    event.target.classList.add('active');
}

function showToast(msg, type="success") {
    const x = document.getElementById("toast");
    x.innerText = msg;
    x.className = "show " + type;
    setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
}

function saveData() {
    localStorage.setItem('if_v15_data', JSON.stringify(appData));
    updateExportArea();
}

/* =================================================================
   3. TEGELS LOGICA
   ================================================================= */
function addTile() {
    const title = document.getElementById('tileTitle').value;
    const img = document.getElementById('tileImg').value;
    const text = document.getElementById('tileText').value;

    if(!title) {
        showToast("Vul minstens een titel in!", "error");
        return;
    }

    appData.tiles.push({
        title: title,
        img: img || "https://via.placeholder.com/600x350/eee/800000?text=Geen+Afbeelding",
        text: text
    });
    
    // Clear inputs
    document.getElementById('tileTitle').value = "";
    document.getElementById('tileImg').value = "";
    document.getElementById('tileText').value = "";
    
    renderTiles();
    saveData();
    showToast("‚úÖ Tegel toegevoegd!");
}

function loadTileToEdit(idx) {
    const t = appData.tiles[idx];
    document.getElementById('tileTitle').value = t.title;
    document.getElementById('tileImg').value = t.img;
    document.getElementById('tileText').value = t.text;
    
    // Simpele edit flow: we verwijderen de oude, gebruiker voegt 'nieuwe' toe
    if(confirm("Bewerken: '" + t.title + "'?\nDe oude wordt verwijderd zodra je op 'Opslaan' klikt.")) {
        appData.tiles.splice(idx, 1);
        renderTiles();
        window.scrollTo(0,0);
        showToast("‚úèÔ∏è Gegevens ingeladen in formulier");
    }
}

function deleteTile(idx) {
    if(confirm("Weet je zeker dat je deze tegel wilt verwijderen?")) {
        appData.tiles.splice(idx, 1);
        renderTiles();
        saveData();
        showToast("üóëÔ∏è Tegel verwijderd");
    }
}

function renderTiles() {
    const list = document.getElementById('tileList');
    list.innerHTML = "";
    appData.tiles.forEach((t, i) => {
        list.innerHTML += `
            <div class="tile-card" onclick="loadTileToEdit(${i})" style="cursor:pointer;" title="Klik om te bewerken">
                <div class="edit-hint">‚úé Klik om te bewerken</div>
                <div class="tile-img" style="background-image:url('${t.img}')"></div>
                <div class="tile-body">
                    <div class="tile-title">${t.title}</div>
                    <div class="tile-text">${t.text}</div>
                    <button class="btn btn-danger" style="margin-top:auto; z-index:10;" onclick="event.stopPropagation(); deleteTile(${i})">Verwijderen</button>
                </div>
            </div>`;
    });
}

/* =================================================================
   4. TABEL LOGICA
   ================================================================= */
function addTableRow() {
    const type = document.getElementById('rowType').value;
    const name = document.getElementById('rowName').value;
    if(!name) { showToast("Vul een naam in!", "error"); return; }
    
    const row = { type, name };
    if(type === 'item') {
        row.link = document.getElementById('rowLink').value;
        row.vis = document.getElementById('visCheck').checked;
        row.sub = document.getElementById('subCheck').checked;
    }
    appData.table.push(row);
    
    document.getElementById('rowName').value = "";
    document.getElementById('rowLink').value = "";
    renderTable();
    saveData();
    showToast("‚úÖ Regel toegevoegd");
}

function deleteRow(idx) {
    if(confirm("Regel verwijderen?")) {
        appData.table.splice(idx, 1);
        renderTable();
        saveData();
        showToast("üóëÔ∏è Regel verwijderd");
    }
}

function moveRow(idx, dir) {
    const newIdx = idx + dir;
    if(newIdx >= 0 && newIdx < appData.table.length) {
        [appData.table[idx], appData.table[newIdx]] = [appData.table[newIdx], appData.table[idx]];
        renderTable();
        saveData();
    }
}

function renderTable() {
    const list = document.getElementById('tableList');
    list.innerHTML = "";
    appData.table.forEach((r, i) => {
        let html = "";
        if(r.type === 'header') {
            html = `<tr class="table-header-row"><td colspan="3">${r.name}</td>`;
        } else {
            let link = r.link ? `<span style="font-size:0.8em; color:#3498db;">(link)</span>` : '';
            html = `<tr>
                <td>${r.name} ${link}</td>
                <td align="center">${r.vis ? '<span class="check-yes">‚úî</span>' : '<span class="check-no">‚úò</span>'}</td>
                <td align="center">${r.sub ? '<span class="check-yes">‚úî</span>' : '<span class="check-no">‚úò</span>'}</td>`;
        }
        html += `<td align="center">
            <button class="btn btn-action" onclick="moveRow(${i}, -1)">‚Üë</button>
            <button class="btn btn-action" onclick="moveRow(${i}, 1)">‚Üì</button>
            <button class="btn btn-danger" onclick="deleteRow(${i})">√ó</button>
        </td></tr>`;
        list.innerHTML += html;
    });
}

/* =================================================================
   5. BACKUP & HERSTEL
   ================================================================= */
function updateExportArea() {
    document.getElementById('exportArea').value = JSON.stringify(appData);
}

function copyExport() {
    const area = document.getElementById('exportArea');
    area.select();
    document.execCommand('copy');
    showToast("üìã Data gekopieerd! Plak in Keep.");
}

function importData() {
    const txt = document.getElementById('importArea').value.trim();
    if(!txt) { showToast("Plak eerst code in het vak!", "error"); return; }
    try {
        appData = JSON.parse(txt);
        renderTiles();
        renderTable();
        saveData();
        showToast("‚úÖ Data succesvol ingeladen!");
    } catch(e) {
        alert("Fout: De code die je hebt geplakt is niet geldig.");
    }
}

function resetToDefault() {
    if(confirm("Weet je zeker dat je wilt resetten naar de standaard Infofrankrijk data?")) {
        appData = JSON.parse(JSON.stringify(defaultData));
        renderTiles();
        renderTable();
        saveData();
        showToast("üîÑ Reset voltooid");
    }
}

/* =================================================================
   6. CODE GENERATOR (KASSA)
   ================================================================= */
function generateCode() {
    // 1. TILES HTML (Strict Grid Layout)
    let tilesHTML = '<div class="if-grid">';
    appData.tiles.forEach(t => {
        tilesHTML += `
        <div class="if-card">
            <div class="if-card-img" style="background-image:url('${t.img}')"></div>
            <div class="if-card-content">
                <h3>${t.title}</h3>
                <p>${t.text}</p>
            </div>
        </div>`;
    });
    tilesHTML += '</div>';

    // 2. TABLE HTML
    let tableHTML = '';
    appData.table.forEach(r => {
        if(r.type === 'header') {
            tableHTML += `<tr><td colspan="3" class="if-th">${r.name}</td></tr>`;
        } else {
            let linkHTML = r.link ? `<a href="${r.link}" target="_blank" class="if-link-icon"><svg viewBox="0 0 24 24"><path d="M14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3m-2 16H5V5h7V3H5c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-7h-2v7z"/></svg></a>` : '';
            tableHTML += `
            <tr>
                <td class="if-td-name">${r.name}${linkHTML}</td>
                <td class="if-icon">${r.vis ? '<span class="c-yes">‚úî</span>' : '<span class="c-no">‚úò</span>'}</td>
                <td class="if-icon bg-sub">${r.sub ? '<span class="c-yes">‚úî</span>' : '<span class="c-no">‚úò</span>'}</td>
            </tr>`;
        }
    });

    // 3. MASTER TEMPLATE
    const master = `
<style>
/* CONTAINER */
.if-onboard { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 900px; margin: 0 auto; color: #333; line-height: 1.5; }
.if-onboard * { box-sizing: border-box; }

/* KNOPPEN */
.if-btn-row { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 30px; }
.if-btn { 
    flex: 1 1 200px; 
    text-align: center; 
    padding: 12px 15px; 
    background: #800000; 
    color: white !important; 
    text-decoration: none; 
    border-radius: 4px; 
    font-weight: 600; 
    font-size: 16px; 
    border: 1px solid #800000; 
    cursor: pointer;
    transition: 0.2s;
    font-family: inherit; 
    display: inline-block;
}
.if-btn:hover { background: #600000; transform: translateY(-1px); }
.if-btn-gray { background: #555; border-color: #555; }
.if-btn-gray:hover { background: #333; }

/* UITKLAP LOGICA */
.if-fold-content { display: none; margin-top: 20px; animation: ifFadeIn 0.5s; }
.if-fold-content.is-open { display: block; }
@keyframes ifFadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* TEGELS (Grid) */
.if-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px; }
.if-card { border: 1px solid #eee; border-radius: 8px; overflow: hidden; background: white; box-shadow: 0 4px 6px rgba(0,0,0,0.05); display: flex; flex-direction: column; height: 100%; }
.if-card-img { height: 180px; background-size: cover; background-position: center; background-color: #f9f9f9; border-bottom: 1px solid #eee; flex-shrink: 0; }
.if-card-content { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; }
.if-card-content h3 { color: #800000; margin: 0 0 10px 0; font-size: 18px; line-height: 1.3; }
.if-card-content p { margin: 0; color: #555; font-size: 16px; }

/* TABEL */
.if-tbl { width: 100%; border-collapse: collapse; margin-bottom: 30px; border: 1px solid #eee; font-size: 15px; }
.if-tbl th { background: white; color: #800000; padding: 15px; text-align: center; border-bottom: 3px solid #800000; font-size: 16px; text-transform: uppercase; }
.if-tbl th.tl { text-align: left; width: 50%; }
.if-tbl td { padding: 12px 10px; border-bottom: 1px solid #eee; vertical-align: middle; }
.if-th { background: #f2f2f2; color: #800000; font-weight: bold; text-transform: uppercase; font-size: 14px; letter-spacing: 1px; padding: 15px !important; }
.if-icon { text-align: center; font-size: 18px; }
.bg-sub { background-color: #fffbfc; }
.c-yes { color: #27ae60; font-weight: bold; }
.c-no { color: #ccc; }
.if-link-icon svg { width: 14px; height: 14px; fill: #800000; margin-left: 5px; opacity: 0.6; vertical-align: middle; }

/* HEADER */
.if-h1 { color: #800000; font-size: 28px; font-weight: 700; margin: 0 0 10px 0; }
.if-intro { font-size: 18px; color: #555; margin: 0 0 25px 0; }
</style>

<div class="if-onboard">
    
    <h1 class="if-h1">Direct toegang nodig?</h1>
    <p class="if-intro">Voor dit instrument is een Infofrankrijk abonnement vereist.</p>

    <div class="if-btn-row">
        <a href="https://infofrankrijk.tempurl.host/abonnement/" class="if-btn">Word abonnee, meld je aan</a>
        <a href="https://infofrankrijk.tempurl.host/aanmelden" class="if-btn">Log in</a>
        <button onclick="document.getElementById('if-fold-1').classList.toggle('is-open')" class="if-btn">De voordelen van een abonnement</button>
    </div>

    <div id="if-fold-1" class="if-fold-content">
        <h2 style="color:#800000; margin-bottom: 20px;">Wat krijg je als abonnee?</h2>
        
        ${tilesHTML}

        <div style="text-align:center; padding: 20px 0; border-top: 1px solid #eee;">
            <button onclick="document.getElementById('if-fold-2').classList.toggle('is-open')" class="if-btn if-btn-gray" style="max-width:300px;">Bekijk de vergelijkingstabel</button>
        </div>
    </div>

    <div id="if-fold-2" class="if-fold-content">
        <h2 style="color:#800000; margin-top: 30px;">Gratis vs. Abonnee</h2>
        
        <table class="if-tbl">
            <thead>
                <tr>
                    <th class="tl">DIENST / INSTRUMENT</th>
                    <th>BEZOEKER</th>
                    <th>ABONNEE</th>
                </tr>
            </thead>
            <tbody>
                ${tableHTML}
                <tr>
                    <td style="font-weight:bold; color:#800000;">KOSTEN</td>
                    <td style="text-align:center;">Gratis</td>
                    <td style="text-align:center; font-weight:bold; color:#800000; background:#fffbfc;">‚Ç¨49 / jaar</td>
                </tr>
            </tbody>
        </table>

        <div style="text-align:center; margin-top: 30px;">
            <a href="https://infofrankrijk.tempurl.host/abonnement/" class="if-btn" style="display:block; max-width:400px; margin:0 auto; padding: 15px; font-size: 18px;">Word abonnee, meld je aan</a>
        </div>
    </div>

</div>`;

    const out = document.getElementById('finalCode');
    out.value = master;
    out.select();
    document.execCommand('copy');
    showToast("üìã Code gekopieerd! Plakken maar.");
}

// Start
init();
</script>

</body>
</html>
